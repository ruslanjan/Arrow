{% extends 'problemset/layout.html' %}

{% load static %}


{% block content %}
  <div class="container" style="padding-top: 12px">
    {% include 'problemset/problemset_nav.html' %}
    <h4 class="h4">Submission # {{ problemset_submission.pk }} to
      Task <span class="text-primary">{{ problemset_submission.problemset_task.name }}</span> by user
      <span class="text-primary">{{ problemset_submission.user_profile.user.username }}</span></h4>
    {% if messages %}
      {% for message in messages %}
        <div class="alert {% if message.tags %} {{ message.tags }}{% endif %}" role="alert">{{ message }}</div>
      {% endfor %}
    {% endif %}
    <hr/>
    <div>
      <h4 class="h4">
        Verdict:
        <span
            class="{% if submission.tested and submission.verdict == Submission.OK %}text-success{% else %}text-info{% endif %}">
          {{ submission.get_verdict }}
        </span>
      </h4>
      {% if show_data %}
        <h5 class="h5">data:</h5>
        <div id="data">{{ submission.data }}</div>
        <hr/>
        {% if submission.verdict_description %}
          <h5 class="h5">Judge says:</h5>
          <pre>{{ submission.verdict_description }}</pre>
        {% endif %}
        <script src="{% static 'ace/ace.js' %}"></script>
        <script>
            let editor = ace.edit("data");
            editor.container.style.height = "512px";
            editor.setTheme("ace/theme/monokai");
            {#editor.session.setMode("ace/mode/c_cpp");#}
            editor.setReadOnly(true);
        </script>
      {% endif %}
    </div>
  </div>
{% endblock %}