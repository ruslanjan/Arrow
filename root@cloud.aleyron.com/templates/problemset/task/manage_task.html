{% extends 'problemset/layout.html' %}

{% block content %}
  <div class="container" style="padding-top: 12px">
    {% include 'problemset/problemset_nav.html' %}
    <h3 class="h3"><small class="text-muted">Task</small> {{ task.name }}</h3>
    {% if messages %}
      {% for message in messages %}
        <div class="alert {% if message.tags %} {{ message.tags }}{% endif %}" role="alert">{{ message }}</div>
      {% endfor %}
    {% endif %}
    <div>
      <form class="" method="POST" action="{% url "problemset.views.manage_task" task.pk %}">
        {% csrf_token %}
        <div class="form-group mx-sm-2 mb-2">
          <label for="name" class="">Name:</label>
          <input value="{{ task.name }}" class="form-control" name="name" id="name">
        </div>
        <div class="form-group mx-sm-2 mb-2">
          <label for="problem">Polygon Problem ID (<a href="{% url 'polygon.views.problem' pk=task.problem.pk %}">Current Problem</a>)</label>
          <input id="problem" name="problem" list="problems" value="{{ task.problem.pk }}" class="form-control">
          <datalist id="problems">
            <option value=""></option>
            {% for problem in problems %}
              <option value="{{ problem.pk }}">{{ problem }}</option>
            {% endfor %}
          </datalist>
{#          <select id="problem" required name="problem" class="form-control"></select>#}
        </div>
        <div class="form-check mx-sm-2 mb-2">
          <input class="form-check-input" type="checkbox" {% if task.is_active %} checked {% endif %} id="is_ready"
                 name="is_active">
          <label class="form-check-label" for="is_active">
            Is active
          </label>
        </div>

        <hr/>
        {#        {{ form.as_p }}#}
        <button type="submit" class="btn btn-secondary mb-2">Update</button>
      </form>
    </div>
  </div>
{% endblock %}